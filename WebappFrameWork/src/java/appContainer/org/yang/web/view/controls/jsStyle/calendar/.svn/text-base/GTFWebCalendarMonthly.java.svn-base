/* Generated by Together */
package org.yang.web.view.controls.jsStyle.calendar;

import org.yang.web.view.controls.WebControl;
import javax.servlet.jsp.JspWriter;
import java.util.Date;
import java.util.Calendar;
import org.yang.util.DateFormatter;

/**
 * @testcase org.test.org.yang.web.view.controls.jsStyle.TestNavigationList 
 */
public class GTFWebCalendarMonthly extends GTFWebCalendar
{
   private static final String[] MONTHS = { "Jan", "Feb", "Mar", "Apr", "May", "Jun",
                                            "Jul", "Aug", "Sep", "Oct", "Nov", "Dec" };
   public GTFWebCalendarMonthly()
   {
      super();
      type = 1;
   }

   public void printBody(JspWriter writer) throws Exception
   {
      Date displayedDate = new Date();
      if(-1!=displayedYear&&-1!=displayedMonth)
      {
         displayedDate.setYear(displayedYear);
         displayedDate.setMonth(displayedMonth);
      }
      int displayedWeekday = displayedDate.getDay();

      writer.println( "			<tr>");
      writer.println( "	           <td align=\"center\">");
      writer.println( "					<TABLE BORDER=\"0\" CELLSPACING=\"1\" CELLPADDING=\"1\" BGCOLOR=\"#003399\">");
      writer.println( "						<TR>");
      writer.println( "							<TD VALIGN=\"bottom\" ALIGN=\"right\" BGCOLOR=\"#003399\">");
      writer.println( "                             <TABLE WIDTH=\"100%\" BORDER=\"0\" CELLSPACING=\"1\" CELLPADDING=\"0\">");
      writer.println( "									<TR>");
      writer.println( "										<TD VALIGN=\"bottom\" ALIGN=\"left\" BGCOLOR=\"#003399\"><a href=\"" + backwardActionLink + "\"><font face=\"Verdana, Arial, Helvetica, sans-serif\" color=\"#ffffff\" size=\"2\">&lt;&lt;</font></a></TD>");
      writer.println( "                                     <input type=\"hidden\" name=\"calendarView\" value=\"1\">");
      writer.println( "                                     <input type=\"hidden\" name=\"browseYear\" value=\"" + displayedYear +"\">");
      writer.println( "										<TD VALIGN=\"bottom\" ALIGN=\"center\" BGCOLOR=\"#003399\"><font face=\"Verdana, Arial, Helvetica, sans-serif\" color=\"#ffffff\" size=\"2\">" + DateFormatter.getDateTimeString(displayedDate, "yyyy") + "</font></TD>");
      writer.println( "										<TD VALIGN=\"bottom\" ALIGN=\"right\" BGCOLOR=\"#003399\"><a href=\"" + forwardActionLink + "\"><font face=\"Verdana, Arial, Helvetica, sans-serif\" color=\"#ffffff\" size=\"2\">&gt;&gt;</font></a></TD>");
      writer.println( "									</TR>");
      writer.println( "								</TABLE>");
      writer.println( "							</TD>");
      writer.println( "						</TR>");
      writer.println( "						<TR>");
      writer.println( "							<TD VALIGN=\"bottom\" ALIGN=\"center\" BGCOLOR=\"#003399\"><TABLE WIDTH=\"160\" BORDER=\"0\" CELLSPACING=\"1\" CELLPADDING=\"0\">");

      int maxMonths  = 12;
      int counter = 0;
      int month = 0;
      String bgColor = "";
      while(counter<maxMonths)
      {
         writer.println( "                                <TR>");
         for(int i=0; i<6; i++)
         {
            month = counter;
            if(month==displayedMonth)
            {
               bgColor = "gold";
               writer.println( "                                     <input type=\"hidden\" name=\"browseMonth\" value=\"" + month +"\">");
            }
            else
               bgColor = "#ffffff";
            writer.println( "	                                  <TD VALIGN=\"bottom\" ALIGN=\"center\" BGCOLOR=\"" + bgColor + "\">");
            writer.println( "                                      <A href=\"" + switchTimeActionLink + "&calendarView=1&displayedYear=" + displayedYear + "&displayedMonth=" + month + "\">");
            writer.println( "                                         <FONT face=\"\" color=\"#000000\" size=\"0\">" + MONTHS[month] + "</FONT>");
            writer.println( "                                      </A>");
            writer.println( "                                   </TD>");
            counter++;
         }
         writer.println( "                                </TR>");
      }

      writer.println( "								</TABLE>");
      writer.println( "							</TD>");
      writer.println( "						</TR>");

      writer.println( "               </TABLE>");
      writer.println( "            </td>");
      writer.println( "         </tr>");
   }
}