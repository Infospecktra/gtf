/* Generated by Together */
package org.yang.web.view.controls.jsStyle.panel;

import org.yang.web.view.controls.WebControl;
import javax.servlet.jsp.JspWriter;
import org.yang.web.view.controls.jsStyle.dataSheet.SelectableItem;
/**
 * @testcase org.test.org.yang.web.view.controls.jsStyle.TestNavigationList 
 */
public class GenericPanelWithDropdownController extends Panel
{
   private String id = null;
   public void setId(String id) { this.id = id; }
   public String getId() { return id; }

   protected String text = null;
   public void setText(String text) { this.text = text; }
   public String getText() { return text; }

   protected String actionLink = null;
   public void setActionLink(String actionLink) { this.actionLink = actionLink; }
   public String getActionLink() { return actionLink; }

   protected boolean disableForm = false;
   public void setDisableForm(boolean disableForm) { this.disableForm = disableForm; }

   protected String color = "#FFFFFF";
   public void setColor(String color) { this.color = color; }
   public String getColor() { return color; }

   protected String bgColor = "#FFFFFF";
   public void setBgColor(String bgColor) { this.bgColor = bgColor; }
   public String getBgColor() { return bgColor; }
   //---
   protected SelectableItem selector = null;
   public void setSelector(SelectableItem selector) { this.selector = selector; }
   public SelectableItem getSelector() { return selector; }

   protected String codeBase = null;
   public void setCodeBase(String codeBase) { this.codeBase = codeBase; }

   public GenericPanelWithDropdownController()
   {
      super();
   }

   public void render(JspWriter writer) throws Exception
   {
      if(!disableForm)
      {
         writer.println( "    <script language=\"JavaScript\" type=\"text/javascript\">");
         writer.println( "      //---------------------------------------");
         writer.println( "      function submitFormThenTargetTo(frm, act, tar) {");
         writer.println( "        fm = eval('document.'+ frm);");
         writer.println( "        fm.actiontype.value = act;");
         writer.println( "        fm.target = tar;");
         writer.println( "        fm.submit();");
         writer.println( "      }");
         writer.println( "      //---------------------------------------");
         writer.println( "      function onChange(url) {");
         writer.println( "        this.location.href=url;");
         writer.println( "      }");
         writer.println( "    </script>");
         writer.println( "    <form name=\"" + id + "\" method=\"post\" action=\"" + actionLink + "\" ID=\"" + id + "\">");
         writer.println( "      <input type=\"hidden\" name=\"actiontype\" value=\"\" >");
         writer.println( "      <input type=\"hidden\" name=\"selectCheckBoxMode\" value=\"\" >"); 
      }
      writer.println( "      <table align=\"center\" width=\"100%\" border=\"0\" cellspacing=\"0\" cellpadding=\"1\" bgcolor=\"" + color + "\">");
      writer.println( "        <tr bgcolor=\"#FFFFFF\">");
      writer.println( "          <td nowrap>");
      writer.println( "            <table border=\"0\" cellspacing=\"0\" cellpadding=\"0\">");
      writer.println( "              <tr class=\"smallest\">");

      for(int i=0; i<mySubcontrols.size(); i++)
      {
         ((TabPanelElement)mySubcontrols.get(i)).renderTap(writer);
      }

      writer.println( "              </tr>");
      writer.println( "            </table>");
      writer.println( "          </td>");
      writer.println( "        </tr>");
      writer.println( "        <tr><td>");
      writer.println( "          <table align=\"center\" width=\"100%\" border=\"0\" cellspacing=\"0\" cellpadding=\"10\"  bgcolor=\"#FFFFFF\">");
      writer.println( "            <tr>");
      writer.println( "              <td class=\"bigger\"><font color=\"" + color + "\"><b>" + text + "</b></font>");

      if(null!=selector)
      { 
         writer.print("     <table border=\"0\" cellspacing=\"0\" cellpadding=\"3\" bordercolorlight=\"#cccccc\" bordercolor=\"#cccccc\" bordercolordark=\"#ffffff\" bgcolor=\"#ffffff\" align=\"center\" width=\"100%\" ID=\"Table2\">");
         writer.print("        <tr>");
         selector.render(writer);
         writer.print("        </tr>");
         writer.println("     </table>");
      }



      writer.println( "              </td>");
      writer.println( "            </tr>");
      writer.println( "          </table>");
      writer.println( "        </td></tr>");
      writer.println( "      </table>");

      this.renderSubcontrols(writer);

      if(!disableForm)
      {
         writer.println( "    </form>");
      }
   }

   public void renderSubcontrols(JspWriter writer) throws Exception
   {
      TabPanelElement pElement = null;
      for(int i=0 ;i<mySubcontrols.size(); i++)
      {
         pElement = ((TabPanelElement)mySubcontrols.get(i));
         if(pElement.onFocus)
         {
            pElement.render(writer);
         }
      }
   }
}