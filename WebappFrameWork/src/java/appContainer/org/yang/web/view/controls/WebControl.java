/* Generated by Together */

package org.yang.web.view.controls;
import java.util.ArrayList;
import javax.servlet.jsp.JspWriter;
import javax.servlet.jsp.PageContext;
import java.util.Iterator;
import java.util.HashMap;
import java.io.Serializable;

public abstract class WebControl implements Serializable
{
   protected WebControl parent = null;
   public void setParent(WebControl parent) { this.parent = parent; }

   protected ArrayList mySubcontrols = null;
   protected HashMap mySubcontrolsMap = null;

   protected String id = null;
   public void setId(String id) { this.id = id; }
   public String getId() { return id; }

   public WebControl()
   {
      mySubcontrols = new ArrayList();
      mySubcontrolsMap = new HashMap();
   }

   public abstract void render(JspWriter writer) throws Exception;

   public void addASubcontrol(WebControl control)
   {
      mySubcontrols.add(control);
      if(null!=control.getId())
      {
         mySubcontrolsMap.put(control.getId(), control);
      }
      control.setParent(this);
   }

   public WebControl getSubcontrol(String id)
   {
      return (WebControl)mySubcontrolsMap.get(id);
   }

   public void removeAllSubcontrols()
   {
      mySubcontrols.clear();
      mySubcontrolsMap.clear();
   }

   public Iterator subcontrols()
   {
      return mySubcontrols.iterator();
   }

   public int subcontrolsSize()
   {
      return mySubcontrols.size();
   }

   public void clear()
   {
      mySubcontrols.clear();
   }

   protected void renderSubcontrols(JspWriter writer) throws Exception
   {
      for(int i=0; i<mySubcontrols.size(); i++)
      {
         ((WebControl)mySubcontrols.get(i)).render(writer);
      }
   }
}